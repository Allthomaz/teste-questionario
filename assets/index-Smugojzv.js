(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const E=[{title:"Trato Digestivo",questions:["Náusea ou vômitos","Diarréia","Constipação / prisão de ventre","Estufamento abdominal","Arrotos ou gases","Queimação (azia) no peito","Dor estomacal / intestinal"]},{title:"Energia / Atividade",questions:["Fadiga ou lentidão","Apatia, letargia","Hiperatividade","Inquietude, dificuldade em relaxar"]},{title:"Ouvidos",questions:["Coceira","Dor de ouvido ou otites","Presença de secreção no ouvido","Zumbido ou perda auditiva"]},{title:"Emoções",questions:["Alterações de humor","Ansiedade, medo ou nervosismo","Depressão"]},{title:"Olhos",questions:["Lacrimejando ou coceira ocular","Olhos inchados/vermelhos/cílios colando","Bolsas ou olheiras abaixo dos olhos","Visão borrada ou em túnel"]},{title:"Cabeça",questions:["Dor de cabeça","Sensação de desmaio","Tonturas","Insônia"]},{title:"Pulmões",questions:["Congestão no peito","Asma, bronquite","Respiração rápida, pouco fôlego","Dificuldade de respirar"]},{title:"Mente",questions:["Pouca memória","Confusão, má compreensão","Dificuldade de concentração","Má coordenação motora","Dificuldade em tomar decisões","Gagueira ou incoordenação da voz","Fala arrastada","Pronúncia de forma confusa","Dificuldade de aprendizado"]},{title:"Articulações / Músculos",questions:["Dor ou inchaços nas juntas","Artrite / Artrose","Rigidez ou limitação de movimento","Dor ou inchaço muscular","Sensação de fraqueza ou cansaço"]},{title:"Coração",questions:["Batimentos cardíacos irregulares","Batidas rápidas demais (Taquicardia)","Dor torácica"]},{title:"Peso",questions:["Compulsão alimentar / álcool","Fissura por certos alimentos","Ganho de peso","Compulsão alimentar","Retenção de líquidos","Perda de peso"]},{title:"Nariz",questions:["Entupido","Sinusite","Corrimento nasal, espirros, lacrimejamento e coceira dos olhos","Ataques de espirro","Excessiva secreção nasal"]},{title:"Pele",questions:["Acne","Feridas que coçam, erupções ou pele seca","Perda de cabelo","Vermelhidão, calorões","Suor excessivo"]},{title:"Outros",questions:["Doenças frequentes","Aumento da frequência ou urgência urinária","Coceira ou secreção genitais","Edema / inchaço de mãos / pernas / pés"]},{title:"Boca / Garganta",questions:["Tosse crônica","Necessidade frequente de limpar a garganta","Dor de garganta, rouquidão, perda da voz","Língua, gengiva ou lábios inchados descoloridos ou pálidos","Aftas"]}],h=["Eu como pão quase diariamente","Tomo suco de frutas (de qualquer tipo)","Como mais de três frutas por dia","Uso adoçante artificial","Caminho menos de 50 min/dia na maior parte dos dias","Fico ofegante ao caminhar","Como pouca salada","Estou acima do peso (IMC > 24.9)","Como arroz, massa ou pão à noite","Tomo leite pasteurizado","Tenho histórico familiar de problemas neurológicos","Evito comer gorduras de qualquer tipo","Tomo remédio para colesterol","Tomo refrigerante (seja diet ou normal)","Tomo pouca água (menos de 2 litros por dia)","Tomo cerveja","Como cereais (aveia, granola, musli, sucrilhos, trigo, etc)","Tive problemas auditivos por 10 anos","Durmo com celular no quarto","Fumei pelo menos 10 anos","Tive depressão/ansiedade por 10 anos","Tomei remédio para dormir por 10 anos","Ronco à noite e/ou tenho apnéia do sono","Minha pressão é maior que 120/80 mmHg às vezes","Meu colesterol HDL é inferior a 50 mg/dl","Minha vitamina B12 é inferior a 500 pg/ml","Minha vitamina D é inferior a 50 ng/dl","Minha glicose é superior a 89 mg/ml","Minha insulina de jejum é > 6 uU/ml","Minha homocisteína é > 7 micromol/L","Meu PCR-us é > 0.7 mg/dL"];function w(e){let t=0;if(Array.isArray(e))t=e.reduce((o,r)=>o+Number(r),0);else for(const o of Object.values(e))t+=Number(o);let n;return t<10?n="Normal":t<50?n="Leve":t<100?n="Moderada":n="Grave",{total:t,level:n}}function C(e){let t=0;if(Array.isArray(e))t=e.reduce((o,r)=>o+Number(r),0);else for(const o of Object.values(e))t+=Number(o);let n;return t===0?n="Ideal":t<=9?n="Leve":t<=20?n="Moderado":n="Grave",{total:t,level:n}}function d(e,t=[],n=""){const o=document.createElement(e);return t.length&&o.classList.add(...t),n&&(o.textContent=n),o}function S(){const e=document.getElementById("inflammation-questions"),t=document.getElementById("mental-risk-questions");e.innerHTML="",t.innerHTML="";let n=0;E.forEach(o=>{const r=d("h3",["text-lg","font-bold","text-cyan-700","mt-4","mb-2"],o.title);e.appendChild(r),o.questions.forEach(a=>{const s=d("div",["flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","py-2","border-b","border-gray-200","last:border-0"]),i=`inflamacao_${n}`,m=d("label",["flex-1","mr-4","text-sm","mb-2","sm:mb-0"],a),l=d("div",["flex","items-center","space-x-2","inflammation-radio"]);for(let c=0;c<=4;c++){const u=`q-${n}-${c}`,f=d("input");f.type="radio",f.name=i,f.id=u,f.value=c;const p=d("label",[],c.toString());p.htmlFor=u,l.append(f,p)}s.append(m,l),e.appendChild(s),n++})}),h.forEach(o=>{const r=d("div",["flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","p-3","border","border-gray-200","rounded-lg"]),a=d("label",["flex-1","mr-4","text-sm","mb-2","sm:mb-0"],o),s=d("div",["flex","items-center","space-x-2","mental-radio"]),i=`risco_mental_${n}`,m=`q-${n}-0`,l=d("input");l.type="radio",l.name=i,l.id=m,l.value="0";const c=d("label",[],"Não");c.htmlFor=m;const u=`q-${n}-1`,f=d("input");f.type="radio",f.name=i,f.id=u,f.value="1";const p=d("label",[],"Sim");p.htmlFor=u,s.append(l,c,f,p),r.append(a,s),t.appendChild(r),n++})}function A(e,t,n,o){const r=document.getElementById("inflammation-score"),a=document.getElementById("inflammation-level"),s=document.getElementById("inflammation-result");let i;e<10?i="bg-green-100 text-green-700":e<50?i="bg-yellow-100 text-yellow-700":e<100?i="bg-orange-100 text-orange-700":i="bg-red-100 text-red-700",r.textContent=e,a.textContent=n,s.className=`p-4 rounded-lg ${i.split(" ")[0]}`,r.className=`text-5xl font-bold my-2 ${i.split(" ")[1]}`;const m=document.getElementById("mental-risk-score"),l=document.getElementById("mental-risk-level"),c=document.getElementById("mental-risk-result");let u;t===0?u="bg-green-100 text-green-700":t<=9?u="bg-yellow-100 text-yellow-700":t<=20?u="bg-orange-100 text-orange-700":u="bg-red-100 text-red-700",m.textContent=`${t} / ${h.length}`,l.textContent=o,c.className=`p-4 rounded-lg ${u.split(" ")[0]}`,m.className=`text-5xl font-bold my-2 ${u.split(" ")[1]}`}function D(e,t){const n=(e-1)/(t-1)*100,o=document.getElementById("progress-bar"),r=document.getElementById("progress-text");o.style.width=`${n}%`,r.textContent=`${Math.round(n)}%`}function x(e,t){for(let s=1;s<=t;s++){const i=document.getElementById(`step-${s}`);i&&i.classList.add("hidden")}const n=document.getElementById(`step-${e}`);n&&n.classList.remove("hidden");const o=document.getElementById("prevBtn"),r=document.getElementById("nextBtn"),a=document.getElementById("navigation-container");e===1?(o.classList.add("hidden"),r.textContent="Próximo",a.classList.remove("hidden")):e===t?a.classList.add("hidden"):(o.classList.remove("hidden"),r.textContent=e===t-1?"Ver Resultados":"Próximo",a.classList.remove("hidden")),D(e,t),window.scrollTo({top:0,behavior:"smooth"})}function T(e){const t=document.getElementById(`step-${e}`);let n=!0;t.querySelectorAll("input[required]").forEach(a=>{a.value||(n=!1,a.classList.add("border-red-500","ring-1","ring-red-500"),a.addEventListener("input",()=>{a.classList.remove("border-red-500","ring-1","ring-red-500")},{once:!0}))});const r=t.querySelectorAll('input[type="radio"]');if(r.length>0){const a={};r.forEach(s=>{a[s.name]||(a[s.name]=[]),a[s.name].push(s)});for(const s in a){const i=a[s];if(!i.some(l=>l.checked)){n=!1;const l=i[0].parentElement.parentElement;l&&(l.classList.add("bg-red-50","border-red-300"),i.forEach(c=>{c.addEventListener("change",()=>{l.classList.remove("bg-red-50","border-red-300")},{once:!0})}))}}}if(!n){alert("Por favor, responda todas as perguntas obrigatórias antes de prosseguir.");const a=t.querySelector(".border-red-500, .bg-red-50");a&&a.scrollIntoView({behavior:"smooth",block:"center"})}return n}const y="https://script.google.com/macros/s/AKfycbwdXhbxJFabslfdbc9-MiE3UiKmnQwnRomh62WIUDkGSOlvHoBT3eZW742hYM0shbuJFg/exec";async function $(e){if(y.includes("SUA_URL"))return console.warn("URL da API não configurada."),!1;try{const t=await fetch(y,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(e)});return console.log("Enviado para planilha. Verifique lá."),!0}catch(t){return console.error("Falha no envio:",t),!1}}var M="@vercel/analytics",P="1.6.1",N=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function q(){return typeof window<"u"}function I(){try{const e="production"}catch{}return"production"}function R(e="auto"){if(e==="auto"){window.vam=I();return}window.vam=e}function _(){return(q()?window.vam:I())||"production"}function v(){return _()==="development"}function k(e){return e.scriptSrc?e.scriptSrc:v()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function F(e={debug:!0}){var t;if(!q())return;R(e.mode),N(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const n=k(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const o=document.createElement("script");o.src=n,o.defer=!0,o.dataset.sdkn=M+(e.framework?`/${e.framework}`:""),o.dataset.sdkv=P,e.disableAutoTrack&&(o.dataset.disableAutoTrack="1"),e.endpoint?o.dataset.endpoint=e.endpoint:e.basePath&&(o.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(o.dataset.dsn=e.dsn),o.onerror=()=>{const r=v()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${r}`)},v()&&e.debug===!1&&(o.dataset.debug="false"),document.head.appendChild(o)}F();let g=1;const B=4;document.addEventListener("DOMContentLoaded",()=>{S(),b();const e=document.getElementById("questionnaireForm");e&&e.addEventListener("submit",async t=>{t.preventDefault(),await O()})});document.getElementById("nextBtn").addEventListener("click",async()=>{T(g)&&g<B&&(g++,x(g),b(),g===4&&L())});document.getElementById("prevBtn").addEventListener("click",()=>{g>1&&(g--,x(g),b())});function b(){const e=(g-1)/(B-1)*100;document.getElementById("progress-bar").style.width=`${e}%`,document.getElementById("progress-text").innerText=`${Math.round(e)}%`}function L(){const e=document.getElementById("questionnaireForm"),t=new FormData(e),n=[],o=[];let r=0;E.forEach(i=>{i.questions.forEach(()=>{const m=t.get(`inflamacao_${r}`);n.push(m?parseInt(m):0),r++})}),h.forEach(()=>{const i=t.get(`risco_mental_${r}`);o.push(i?parseInt(i):0),r++});const a=w(n),s=C(o);return A(a.total,s.total,a.level,s.level),document.getElementById("escore_inflamacao").value=a.total,document.getElementById("nivel_inflamacao").value=a.level,document.getElementById("escore_risco_mental").value=s.total,document.getElementById("nivel_risco_mental").value=s.level,{inflammationScore:a,mentalRiskScore:s}}async function O(){const{inflammationScore:e,mentalRiskScore:t}=L(),n={nome:document.getElementById("nome").value,email:document.getElementById("email").value,nascimento:document.getElementById("nascimento").value,telefone:document.getElementById("telefone").value,escore_inflamacao:e.total,nivel_inflamacao:e.level,escore_risco_mental:t.total,nivel_risco_mental:t.level},o=document.getElementById("submitButton"),r=o.innerText;o.innerText="Enviando...",o.disabled=!0,$(n).then(a=>{if(a)console.log("Dados sincronizados com a planilha."),document.getElementById("submit-status").innerText="Dados enviados com sucesso!",document.getElementById("submit-status").className="mt-4 text-sm text-green-600 h-5",o.classList.remove("bg-green-600","hover:bg-green-700"),o.classList.add("bg-green-500","hover:bg-green-600"),o.innerText="Enviado!";else throw new Error("Falha no envio (retornou false)")}).catch(a=>{console.error("Erro de rede ou lógica:",a),console.log("Atenção: Configure a URL da planilha em src/services/sheetApi.js"),document.getElementById("submit-status").innerText="Erro ao enviar. Tente novamente.",document.getElementById("submit-status").className="mt-4 text-sm text-red-600 h-5",o.innerText=r,o.disabled=!1})}
